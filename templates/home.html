{% extends "layout.html" %}
{% block content %}
<h3>{{ datetime.date(year, month, 1).strftime('%B %Y') }}</h3>

<form method="POST">
    <input type="text" name="name" placeholder="Habit Name" required>
    <select name="frequency">
        <option value="daily">Daily</option>
        <option value="weekly">Weekly</option>
        <option value="monthly">Monthly</option>
    </select>
    <button type="submit" class="btn btn-primary btn-sm">Add Habit</button>
</form>

<table class="table table-bordered mt-3">
  <tr>
    {% for day in calendar_data %}
    <td style="background-color: {{ day.color }}; vertical-align: top;">
      <strong>{{ day.day }}</strong><br>
      {% for habit in day.habits %}
      <div>
        <input type="checkbox" data-habit-id="{{ habit.id }}" data-day="{{ day.day }}"
               {% if habit.done %}checked{% endif %}
               {% if not day.editable %}disabled{% endif %}>
        {{ habit.name }}
      </div>
      {% endfor %}
      {% if day.show_reason %}
      <textarea placeholder="Reason..." {% if not day.editable %}disabled{% endif %}></textarea>
      {% endif %}
    </td>
    {% endfor %}
  </tr>
</table>
{% endblock %}
